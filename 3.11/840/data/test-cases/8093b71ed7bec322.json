{"uid":"8093b71ed7bec322","name":"Validate Council Output [WelhatCouncil]","fullName":"features/validate_council_outputs.feature:Validate Council Output","historyId":"9757596c6a580c04f776b266c6584936","time":{"start":1690939519637,"stop":1690939519818,"duration":181},"status":"failed","statusMessage":"AttributeError: 'str' object has no attribute 'text'","statusTrace":"request = <FixtureRequest for <Function test_scenario_outline[WelhatCouncil]>>\n_pytest_bdd_example = {'council': 'WelhatCouncil'}\n\n    @pytest.mark.usefixtures(*func_args)\n    def scenario_wrapper(request: FixtureRequest, _pytest_bdd_example: dict[str, str]) -> Any:\n        scenario = templated_scenario.render(_pytest_bdd_example)\n>       _execute_scenario(feature, scenario, request)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:187: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:157: in _execute_scenario\n    _execute_step_function(request, scenario, step, step_func)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:127: in _execute_step_function\n    return_value = call_fixture_func(fixturefunc=step_func, request=request, kwargs=kwargs)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:902: in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\nuk_bin_collection/tests/step_defs/test_validate_council.py:62: in scrape_step\n    raise (err)\nuk_bin_collection/tests/step_defs/test_validate_council.py:58: in scrape_step\n    context.parse_result = CollectData.run()\nuk_bin_collection/uk_bin_collection/collect_data.py:71: in run\n    return self.client_code(\nuk_bin_collection/uk_bin_collection/collect_data.py:59: in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:70: in template_method\n    bin_data_dict = self.parse_data(\nuk_bin_collection/uk_bin_collection/councils/WelhatCouncil.py:33: in parse_data\n    \"__token\": get_token(page),\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = ''\n\n    def get_token(page) -> str:\n        \"\"\"\n        Get a __token to include in the form data\n            :param page: Page html\n            :return: Form __token\n        \"\"\"\n>       soup = BeautifulSoup(page.text, features=\"html.parser\")\nE       AttributeError: 'str' object has no attribute 'text'\n\nuk_bin_collection/uk_bin_collection/councils/WelhatCouncil.py:13: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AttributeError: 'str' object has no attribute 'text'","statusTrace":"request = <FixtureRequest for <Function test_scenario_outline[WelhatCouncil]>>\n_pytest_bdd_example = {'council': 'WelhatCouncil'}\n\n    @pytest.mark.usefixtures(*func_args)\n    def scenario_wrapper(request: FixtureRequest, _pytest_bdd_example: dict[str, str]) -> Any:\n        scenario = templated_scenario.render(_pytest_bdd_example)\n>       _execute_scenario(feature, scenario, request)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:187: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:157: in _execute_scenario\n    _execute_step_function(request, scenario, step, step_func)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:127: in _execute_step_function\n    return_value = call_fixture_func(fixturefunc=step_func, request=request, kwargs=kwargs)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:902: in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\nuk_bin_collection/tests/step_defs/test_validate_council.py:62: in scrape_step\n    raise (err)\nuk_bin_collection/tests/step_defs/test_validate_council.py:58: in scrape_step\n    context.parse_result = CollectData.run()\nuk_bin_collection/uk_bin_collection/collect_data.py:71: in run\n    return self.client_code(\nuk_bin_collection/uk_bin_collection/collect_data.py:59: in client_code\n    return get_bin_data_class.template_method(address_url, **kwargs)\nuk_bin_collection/uk_bin_collection/get_bin_data.py:70: in template_method\n    bin_data_dict = self.parse_data(\nuk_bin_collection/uk_bin_collection/councils/WelhatCouncil.py:33: in parse_data\n    \"__token\": get_token(page),\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = ''\n\n    def get_token(page) -> str:\n        \"\"\"\n        Get a __token to include in the form data\n            :param page: Page html\n            :return: Form __token\n        \"\"\"\n>       soup = BeautifulSoup(page.text, features=\"html.parser\")\nE       AttributeError: 'str' object has no attribute 'text'\n\nuk_bin_collection/uk_bin_collection/councils/WelhatCouncil.py:13: AttributeError","steps":[{"name":"Given the council: WelhatCouncil","time":{"start":1690939519637,"stop":1690939519638,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0},{"name":"When we scrape the data from WelhatCouncil","time":{"start":1690939519638,"stop":1690939519818,"duration":180},"status":"failed","statusMessage":"'str' object has no attribute 'text'","statusTrace":"AttributeError: 'str' object has no attribute 'text'\n","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true,"stepsCount":2},"afterStages":[],"labels":[{"name":"host","value":"fv-az362-628"},{"name":"thread","value":"2255-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Test each council output matches expected results in /outputs"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"council","value":"WelhatCouncil"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":22,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":22},"items":[{"uid":"55c8fddc124131a2","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/839//#testresult/55c8fddc124131a2","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690854245970,"stop":1690854246190,"duration":220}},{"uid":"770b00b9fccab214","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/838//#testresult/770b00b9fccab214","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690767019976,"stop":1690767020114,"duration":138}},{"uid":"4384266b92ef9b78","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/837//#testresult/4384266b92ef9b78","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690680700228,"stop":1690680700362,"duration":134}},{"uid":"590fc1c4edd72887","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/836//#testresult/590fc1c4edd72887","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690594029603,"stop":1690594029764,"duration":161}},{"uid":"92c4331aaaf3ff2f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/835//#testresult/92c4331aaaf3ff2f","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690563559994,"stop":1690563560189,"duration":195}},{"uid":"4eb469fe8eb34090","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/833//#testresult/4eb469fe8eb34090","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690562968974,"stop":1690562969256,"duration":282}},{"uid":"c3f8e971b6801c88","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/832//#testresult/c3f8e971b6801c88","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690507596663,"stop":1690507596907,"duration":244}},{"uid":"b194c0b31b766598","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/831//#testresult/b194c0b31b766598","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690421108471,"stop":1690421108836,"duration":365}},{"uid":"5ba9116d93715c18","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/830//#testresult/5ba9116d93715c18","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690335691831,"stop":1690335692013,"duration":182}},{"uid":"91558392c5586050","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/829//#testresult/91558392c5586050","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690249824681,"stop":1690249824906,"duration":225}},{"uid":"361393187409093f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/828//#testresult/361393187409093f","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690162839311,"stop":1690162839402,"duration":91}},{"uid":"1d60a444675c6fe2","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/827//#testresult/1d60a444675c6fe2","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690123580309,"stop":1690123580867,"duration":558}},{"uid":"f2fc12786d5d3444","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/824//#testresult/f2fc12786d5d3444","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690107126587,"stop":1690107126720,"duration":133}},{"uid":"f40010a24c8acb2c","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/822//#testresult/f40010a24c8acb2c","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690076766176,"stop":1690076766367,"duration":191}},{"uid":"6a360839f7543b32","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/821//#testresult/6a360839f7543b32","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690027454321,"stop":1690027454415,"duration":94}},{"uid":"d610e8f8acb4fc89","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/820//#testresult/d610e8f8acb4fc89","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1690025934864,"stop":1690025935125,"duration":261}},{"uid":"769ea13a007c8234","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/817//#testresult/769ea13a007c8234","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1689990008005,"stop":1689990008126,"duration":121}},{"uid":"7b1fe483e9353069","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/816//#testresult/7b1fe483e9353069","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1689957368580,"stop":1689957368782,"duration":202}},{"uid":"49a7867372c1bf1f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/815//#testresult/49a7867372c1bf1f","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1689957266031,"stop":1689957266182,"duration":151}},{"uid":"f6647fcbfde40791","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/814//#testresult/f6647fcbfde40791","status":"failed","statusDetails":"AttributeError: 'str' object has no attribute 'text'","time":{"start":1689903718551,"stop":1689903719091,"duration":540}}]},"tags":[]},"source":"8093b71ed7bec322.json","parameterValues":["WelhatCouncil"]}