{"uid":"9441da0aac1f4315","name":"Validate Council Output [WiganBoroughCouncil]","fullName":"features/validate_council_outputs.feature:Validate Council Output","historyId":"d724d8b9a4d0593a99f53e95b03e558b","time":{"start":1694988152901,"stop":1694988154676,"duration":1775},"status":"failed","statusMessage":"AssertionError: assert False is True","statusTrace":"request = <FixtureRequest for <Function test_scenario_outline[WiganBoroughCouncil]>>\n_pytest_bdd_example = {'council': 'WiganBoroughCouncil'}\n\n    @pytest.mark.usefixtures(*func_args)\n    def scenario_wrapper(request: FixtureRequest, _pytest_bdd_example: dict[str, str]) -> Any:\n        scenario = templated_scenario.render(_pytest_bdd_example)\n>       _execute_scenario(feature, scenario, request)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:187: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:157: in _execute_scenario\n    _execute_step_function(request, scenario, step, step_func)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:127: in _execute_step_function\n    return_value = call_fixture_func(fixturefunc=step_func, request=request, kwargs=kwargs)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:902: in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\nuk_bin_collection/tests/step_defs/test_validate_council.py:87: in validate_output_step\n    raise (err)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncontext = <test_validate_council.context.<locals>.Context object at 0x7fedd94fc050>\n\n    @then(\"the output should validate against the schema\")\n    def validate_output_step(context):\n        try:\n            council_schema = file_handler.load_schema_file(f\"{context.council}.schema\")\n            schema_result = file_handler.validate_json_schema(\n                context.parse_result, council_schema\n            )\n>           assert schema_result is True\nE           assert False is True\n\nuk_bin_collection/tests/step_defs/test_validate_council.py:83: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: assert False is True","statusTrace":"request = <FixtureRequest for <Function test_scenario_outline[WiganBoroughCouncil]>>\n_pytest_bdd_example = {'council': 'WiganBoroughCouncil'}\n\n    @pytest.mark.usefixtures(*func_args)\n    def scenario_wrapper(request: FixtureRequest, _pytest_bdd_example: dict[str, str]) -> Any:\n        scenario = templated_scenario.render(_pytest_bdd_example)\n>       _execute_scenario(feature, scenario, request)\n\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:187: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:157: in _execute_scenario\n    _execute_step_function(request, scenario, step, step_func)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/pytest_bdd/scenario.py:127: in _execute_step_function\n    return_value = call_fixture_func(fixturefunc=step_func, request=request, kwargs=kwargs)\n../../../.cache/pypoetry/virtualenvs/uk-bin-collection-EwS6Gn8s-py3.11/lib/python3.11/site-packages/_pytest/fixtures.py:902: in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\nuk_bin_collection/tests/step_defs/test_validate_council.py:87: in validate_output_step\n    raise (err)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ncontext = <test_validate_council.context.<locals>.Context object at 0x7fedd94fc050>\n\n    @then(\"the output should validate against the schema\")\n    def validate_output_step(context):\n        try:\n            council_schema = file_handler.load_schema_file(f\"{context.council}.schema\")\n            schema_result = file_handler.validate_json_schema(\n                context.parse_result, council_schema\n            )\n>           assert schema_result is True\nE           assert False is True\n\nuk_bin_collection/tests/step_defs/test_validate_council.py:83: AssertionError","steps":[{"name":"Given the council: WiganBoroughCouncil","time":{"start":1694988152901,"stop":1694988152902,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"When we scrape the data from WiganBoroughCouncil","time":{"start":1694988152902,"stop":1694988154674,"duration":1772},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Then the result is valid json","time":{"start":1694988154674,"stop":1694988154675,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"And the output should validate against the schema","time":{"start":1694988154675,"stop":1694988154676,"duration":1},"status":"failed","statusMessage":"assert False is True","statusTrace":"AssertionError: assert False is True\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"host","value":"fv-az749-727"},{"name":"thread","value":"2143-MainThread"},{"name":"framework","value":"pytest-bdd"},{"name":"language","value":"cpython3"},{"name":"feature","value":"Test each council output matches expected results in /outputs"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"council","value":"WiganBoroughCouncil"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":76,"unknown":0,"total":82},"items":[{"uid":"8191ed09e8c10a06","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/926//#testresult/8191ed09e8c10a06","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1694987998044,"stop":1694988000185,"duration":2141}},{"uid":"d6d6908e346a4725","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/922//#testresult/d6d6908e346a4725","status":"failed","statusDetails":"AssertionError: assert False is True","time":{"start":1694971874854,"stop":1694971877497,"duration":2643}},{"uid":"50cc3a2e2de49c7f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/920//#testresult/50cc3a2e2de49c7f","status":"passed","time":{"start":1694913674510,"stop":1694913676669,"duration":2159}},{"uid":"fb99c8efbf4937","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/919//#testresult/fb99c8efbf4937","status":"passed","time":{"start":1694892992695,"stop":1694892994844,"duration":2149}},{"uid":"7af2a7f53f7fddd8","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/917//#testresult/7af2a7f53f7fddd8","status":"passed","time":{"start":1694889955849,"stop":1694889960496,"duration":4647}},{"uid":"9202f84cf53b5c5f","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/915//#testresult/9202f84cf53b5c5f","status":"passed","time":{"start":1694864916774,"stop":1694864919917,"duration":3143}},{"uid":"b99dc3e2d6575e4a","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/913//#testresult/b99dc3e2d6575e4a","status":"passed","time":{"start":1694840573082,"stop":1694840575586,"duration":2504}},{"uid":"7dea4f7d9b6f5ee0","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/912//#testresult/7dea4f7d9b6f5ee0","status":"passed","time":{"start":1694826974181,"stop":1694826976342,"duration":2161}},{"uid":"1cf6cc56d7394121","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/910//#testresult/1cf6cc56d7394121","status":"passed","time":{"start":1694797012931,"stop":1694797015319,"duration":2388}},{"uid":"962613f97ba6f11e","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/906//#testresult/962613f97ba6f11e","status":"passed","time":{"start":1694740692534,"stop":1694740694486,"duration":1952}},{"uid":"970e1bd92f7eeb67","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/905//#testresult/970e1bd92f7eeb67","status":"passed","time":{"start":1694654163131,"stop":1694654165165,"duration":2034}},{"uid":"4f514cd112136d00","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/904//#testresult/4f514cd112136d00","status":"passed","time":{"start":1694567963808,"stop":1694567967379,"duration":3571}},{"uid":"68c64c2bc992ee82","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/903//#testresult/68c64c2bc992ee82","status":"passed","time":{"start":1694481354517,"stop":1694481356329,"duration":1812}},{"uid":"25d2db259a9d6b7a","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/902//#testresult/25d2db259a9d6b7a","status":"passed","time":{"start":1694395058152,"stop":1694395060621,"duration":2469}},{"uid":"96632d7aae640366","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/901//#testresult/96632d7aae640366","status":"passed","time":{"start":1694365455915,"stop":1694365459273,"duration":3358}},{"uid":"b037ea471cc1c0c7","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/899//#testresult/b037ea471cc1c0c7","status":"passed","time":{"start":1694308871466,"stop":1694308873867,"duration":2401}},{"uid":"68f751bc01c4a14a","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/891//#testresult/68f751bc01c4a14a","status":"passed","time":{"start":1694240549230,"stop":1694240568868,"duration":19638}},{"uid":"efd68d2419ed8625","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/890//#testresult/efd68d2419ed8625","status":"passed","time":{"start":1694222164036,"stop":1694222166741,"duration":2705}},{"uid":"fc293e3c72b31987","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/889//#testresult/fc293e3c72b31987","status":"passed","time":{"start":1694135867014,"stop":1694135869359,"duration":2345}},{"uid":"11d96bdc5852457d","reportUrl":"https://robbrad.github.io/UKBinCollectionData/3.11/888//#testresult/11d96bdc5852457d","status":"passed","time":{"start":1694049512236,"stop":1694049514769,"duration":2533}}]},"tags":[]},"source":"9441da0aac1f4315.json","parameterValues":["WiganBoroughCouncil"]}